<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Responsive Horizontal Pricing Table Generator — VPS</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
<style>
  :root{--ring:#e5e7eb;--text:#0f172a;--muted:#64748b;--accent:#2563eb;--accent-weak:#eff6ff;--radius:14px}
  *{box-sizing:border-box}
  body{margin:0;font:16px/1.45 Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,sans-serif;color:var(--text);background:#f7f7f8}
  .wrap{max-width:1200px;margin:0 auto;padding:18px}
  h1{font-size:1.6rem;margin:0 0 .3rem;font-weight:800}
  h2{font-size:1.1rem;margin:0 0 .5rem}
  .panel{background:#fff;border:1px solid var(--ring);border-radius:18px;padding:14px}
  .grid{display:grid;grid-template-columns:1fr 1fr;gap:14px}
  @media (max-width: 960px){.grid{grid-template-columns:1fr}}
  label{font-size:.92rem;color:#334155}
  input[type="number"],input[type="text"],input[type="color"],textarea,select{
    width:100%;border:1px solid var(--ring);border-radius:10px;padding:.5rem .6rem;background:#fff;font:inherit
  }
  input[type="checkbox"]{transform:translateY(2px)}
  .row{display:grid;grid-template-columns:repeat(12,1fr);gap:.5rem;margin:.5rem 0}
  .col-3{grid-column:span 3}.col-4{grid-column:span 4}.col-5{grid-column:span 5}.col-6{grid-column:span 6}.col-7{grid-column:span 7}.col-8{grid-column:span 8}.col-9{grid-column:span 9}.col-12{grid-column:span 12}
  button{border:0;border-radius:10px;padding:.58rem .9rem;font-weight:700;background:#111827;color:#fff;cursor:pointer}
  button.secondary{background:#fff;color:#111827;border:1px solid var(--ring)}
  button.blue{background:var(--accent)}
  .hint{font-size:.86rem;color:var(--muted)}
  .muted{color:var(--muted)}
  .toolbar{display:flex;flex-wrap:wrap;gap:.5rem}
  .card{background:#fff;border:1px solid var(--ring);border-radius:16px;padding:10px}
  .scroller{overflow:auto}

  /* Builder (contenteditable) */
  table.builder{border-collapse:separate;border-spacing:0;width:100%}
  .builder th,.builder td{border:1px dashed #e2e8f0;padding:.5rem .6rem;min-width:120px}
  .builder th{background:#f1f5f9}
  .builder td{background:#fafafa}
  [contenteditable]{outline:2px solid transparent}
  [contenteditable]:focus{outline:2px solid #93c5fd;background:#fff}

  /* Preview/Export styles (same class names) */
  .rpt-wrap{overflow:auto;-webkit-overflow-scrolling:touch}
  .rpt{width:100%;border-collapse:separate;border-spacing:0;min-width:640px}
  .rpt caption{caption-side:top;text-align:left;font-weight:800;margin:0 0 .6rem}
  .rpt th,.rpt td{padding:.85rem .9rem;border:1px solid #e5e7eb;background:#fff;text-align:left}
  .rpt thead th{background:#f8fafc;font-weight:800}
  .rpt .popular{position:relative}
  .rpt .popular .badge{position:absolute;left:12px;top:-12px;font-size:.7rem;font-weight:800;background:var(--accent);color:#fff;padding:.25rem .45rem;border-radius:999px}
  .rpt .price{font-size:1.35rem;font-weight:800}
  .rpt .period{font-size:.85rem;color:#64748b}
  .rpt .cta a{display:inline-block;padding:.55rem .8rem;border-radius:10px;background:var(--accent);color:#fff;text-decoration:none;font-weight:700}
  .rpt .cta a:hover{filter:brightness(.95)}
  .rpt .headcell{background:var(--accent-weak);font-weight:700}
  .note{font-size:.82rem;color:#64748b}

  /* Stack to cards (toggle) */
  @media (max-width:740px){
    .rpt.stack{min-width:0;border-spacing:0}
    .rpt.stack thead{display:none}
    .rpt.stack tr{display:block;margin-bottom:.75rem;border:1px solid #e5e7eb;border-radius:14px;overflow:hidden}
    .rpt.stack td,.rpt.stack th{display:grid;grid-template-columns:12ch auto;border:none;border-bottom:1px solid #f1f5f9}
    .rpt.stack td:last-child,.rpt.stack th:last-child{border-bottom:0}
    .rpt.stack td::before,.rpt.stack th::before{content:attr(data-label);font-weight:700;color:#334155;padding-right:.8rem}
    .rpt.stack .headcell{grid-template-columns:auto;border-bottom:1px solid #e5e7eb;background:#f8fafc}
    .rpt.stack .headcell::before{content:''}
    .rpt.stack .cta{display:flex;grid-template-columns:1fr}
    .rpt.stack .cta::before{content:''}
  }
</style>
</head>
<body>
<div class="wrap">
  <h1>Responsive Horizontal Pricing Table Generator — VPS</h1>
  <p class="muted">Build your VPS pricing table → preview live → <b>Generate HTML</b> and paste into WordPress (Custom HTML block/widget). The last row can be <b>buttons</b> (toggle on/off).</p>

  <div class="grid">
    <!-- LEFT: Builder -->
    <section class="panel">
      <h2>1) Builder</h2>
      <div class="row">
        <div class="col-3">
          <label>Plans (columns)</label>
          <input type="number" id="plans" min="2" value="3">
        </div>
        <div class="col-3">
          <label>Features (rows)</label>
          <input type="number" id="features" min="2" value="6">
        </div>
        <div class="col-3">
          <label>Currency</label>
          <select id="currency">
            <option>$</option><option>£</option><option>€</option><option>₹</option><option>CAD$</option><option>AUD$</option>
          </select>
        </div>
        <div class="col-3">
          <label>Accent</label>
          <input type="color" id="accent" value="#2563eb" title="Accent color">
        </div>
      </div>

      <div class="row">
        <div class="col-6">
          <label><input type="checkbox" id="stack" checked> Stack to cards on mobile</label>
        </div>
        <div class="col-6">
          <label><input type="checkbox" id="ctaRow" checked> Add CTA Buttons as last row</label>
        </div>
      </div>

      <div class="row">
        <div class="col-8">
          <label>Caption (optional)</label>
          <input id="caption" type="text" placeholder="VPS Hosting Plans — billed monthly, cancel anytime">
        </div>
        <div class="col-4">
          <label>Billing period</label>
          <input id="period" type="text" value="/mo" placeholder="/mo, /year, etc">
        </div>
      </div>

      <div class="toolbar" style="margin:.5rem 0">
        <button class="secondary" id="addPlan">+ Plan</button>
        <button class="secondary" id="delPlan">− Plan</button>
        <button class="secondary" id="addFeature">+ Feature</button>
        <button class="secondary" id="delFeature">− Feature</button>
        <button class="secondary" id="clear">Clear cells</button>
      </div>

      <p class="hint">Click any cell to edit. Top row is plan names; second row is <b>prices</b>. First column is feature names. Last row (if enabled) is for the <b>buttons</b>.</p>

      <div class="card scroller" id="builderHolder"></div>

      <details style="margin-top:.6rem">
        <summary class="hint">Set buttons (text + URL) per plan</summary>
        <div id="btnConfig" class="row"></div>
      </details>
    </section>

    <!-- RIGHT: Preview -->
    <section class="panel">
      <h2>2) Preview</h2>
      <div class="card">
        <div id="preview" class="rpt-wrap"></div>
      </div>

      <h2 style="margin-top:12px">3) Generate → WordPress HTML</h2>
      <div class="toolbar" style="margin-bottom:.5rem">
        <button class="blue" id="generate">Generate HTML</button>
        <button class="secondary" id="copy" disabled>Copy</button>
        <span id="copied" class="hint"></span>
      </div>
      <textarea id="output" style="width:100%;min-height:220px;font-family:ui-monospace,Menlo,monospace"></textarea>
      <p class="note" style="margin-top:.4rem">Paste this into a <b>Custom HTML</b> block/widget. CSS is scoped to a unique ID so it won’t clash with your theme.</p>
    </section>
  </div>
</div>

<script>
/* ======= helpers ======= */
const $ = s => document.querySelector(s);
const esc = s => (s??'').toString().replace(/[&<>"']/g, m=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;' }[m]));
const uid = ()=>'rpt-'+Math.random().toString(36).slice(2,8);

/* ======= state ======= */
let P = +$('#plans').value;     // plans (columns)
let F = +$('#features').value;  // features (rows)
let table = [];                 // matrix incl header & price rows
let popularIndex = 1;           // which plan is popular (0..P-1)
let uniqueId = uid();
let btnData = [];               // [{text,url},...]

function initMatrix(){
  // Matrix rows:
  // 0: plan names
  // 1: prices
  // 2..F-1: features (first column = feature name)
  // last row (optional): CTA buttons (we render, not edit text there)
  table = Array.from({length:F}, (_,r)=>
    Array.from({length:P+1}, (_,c)=>{ // +1 for feature-name column 0
      if(r===0 && c>0) return ['Basic','Pro','Elite','Turbo','Omega'][c-1] || `Plan ${c}`;
      if(r===1 && c>0) return ''; // prices empty to start
      if(c===0 && r>=2) return ['CPU','RAM','Storage','Bandwidth','IPv4'][r-2] || `Feature ${r-1}`;
      return '';
    })
  );
  btnData = Array.from({length:P}, (_,i)=>({text:'Choose Plan', url:'#'}));
}

/* ======= builder table ======= */
function renderBuilder(){
  const t = document.createElement('table');
  t.className = 'builder';
  const thead = document.createElement('thead');
  const tbody = document.createElement('tbody');

  // header row: (empty corner) + plan names
  const hr = document.createElement('tr');
  const corner = document.createElement('th');
  corner.textContent = 'Feature / Plan';
  hr.appendChild(corner);

  for(let p=1;p<=P;p++){
    const th = document.createElement('th');
    th.contentEditable = true;
    th.textContent = table[0][p];
    th.dataset.r = 0; th.dataset.c = p;
    th.title = 'Plan name';
    addCellEvents(th);
    hr.appendChild(th);
  }
  thead.appendChild(hr);

  // prices row
  const pr = document.createElement('tr');
  const pl = document.createElement('th'); pl.textContent = 'Price';
  pr.appendChild(pl);
  for(let p=1;p<=P;p++){
    const td = document.createElement('td');
    td.contentEditable = true;
    td.textContent = table[1][p];
    td.dataset.r = 1; td.dataset.c = p;
    td.title = 'Price, e.g. 9.99';
    addCellEvents(td);
    pr.appendChild(td);
  }
  tbody.appendChild(pr);

  // features rows
  for(let r=2;r<F;r++){
    const tr = document.createElement('tr');

    const th = document.createElement('th');
    th.contentEditable = true;
    th.textContent = table[r][0];
    th.dataset.r = r; th.dataset.c = 0;
    th.title = 'Feature name';
    addCellEvents(th);
    tr.appendChild(th);

    for(let p=1;p<=P;p++){
      const td = document.createElement('td');
      td.contentEditable = true;
      td.textContent = table[r][p];
      td.dataset.r = r; td.dataset.c = p;
      addCellEvents(td);
      tr.appendChild(td);
    }
    tbody.appendChild(tr);
  }

  t.appendChild(thead); t.appendChild(tbody);
  $('#builderHolder').innerHTML = '';
  $('#builderHolder').appendChild(t);

  // button config UI
  renderBtnConfig();
}

function addCellEvents(cell){
  cell.addEventListener('input', e=>{
    const r = +cell.dataset.r, c = +cell.dataset.c;
    table[r][c] = cell.textContent;
    renderPreview();
  });
}

/* ======= preview ======= */
function renderPreview(){
  const wrap = document.createElement('div'); wrap.className = 'rpt-wrap';
  const tbl = document.createElement('table'); tbl.className = 'rpt';
  tbl.id = uniqueId;
  if($('#stack').checked) tbl.classList.add('stack');

  // set CSS vars (accent)
  tbl.style.setProperty('--accent', $('#accent').value);
  tbl.style.setProperty('--accent-weak', tinyMix($('#accent').value, '#ffffff', .86));

  // caption
  const captionText = $('#caption').value.trim();
  if(captionText){
    const cap = document.createElement('caption'); cap.textContent = captionText; tbl.appendChild(cap);
  }

  // THEAD
  const thead = document.createElement('thead');
  const trh = document.createElement('tr');
  // feature head
  const th0 = document.createElement('th'); th0.className = 'headcell'; th0.textContent = 'Details';
  trh.appendChild(th0);
  for(let p=1;p<=P;p++){
    const th = document.createElement('th');
    th.innerHTML = `<div style="display:flex;align-items:center;gap:.5rem">
      <span>${esc(table[0][p])}</span>
      ${p-1===popularIndex ? '<span class="badge">POPULAR</span>' : ''}
    </div>`;
    if(p-1===popularIndex) th.classList.add('popular');
    trh.appendChild(th);
  }
  thead.appendChild(trh); tbl.appendChild(thead);

  // BODY
  const tbody = document.createElement('tbody');

  // price row
  const pr = document.createElement('tr');
  pr.appendChild(cellHead('Price'));
  for(let p=1;p<=P;p++){
    const td = document.createElement('td');
    const price = table[1][p].trim();
    const cur = $('#currency').value;
    const per = $('#period').value.trim();
    td.innerHTML = `<span class="price">${esc(cur)}${esc(price || '0')}</span> <span class="period">${esc(per)}</span>`;
    pr.appendChild(td);
  }
  tbody.appendChild(pr);

  // feature rows
  for(let r=2;r<F;r++){
    const tr = document.createElement('tr');
    tr.appendChild(cellHead(table[r][0]));
    for(let p=1;p<=P;p++){
      const td = document.createElement('td'); td.textContent = table[r][p]; tr.appendChild(td);
    }
    tbody.appendChild(tr);
  }

  // CTA row (optional)
  if($('#ctaRow').checked){
    const tr = document.createElement('tr');
    tr.appendChild(cellHead(''));
    for(let p=1;p<=P;p++){
      const td = document.createElement('td'); td.className='cta';
      const {text,url}=btnData[p-1]||{text:'Choose Plan',url:'#'};
      td.innerHTML = `<a href="${esc(url)}" rel="nofollow">${esc(text)}</a>`;
      tr.appendChild(td);
    }
    tbody.appendChild(tr);
  }

  tbl.appendChild(tbody); wrap.appendChild(tbl);
  $('#preview').innerHTML = ''; $('#preview').appendChild(wrap);
}
function cellHead(text){
  const th = document.createElement('th'); th.className = 'headcell'; th.textContent = text||'';
  return th;
}

/* ======= generate HTML (scoped CSS) ======= */
function generateHTML(){
  const id = uniqueId = uid();
  const stack = $('#stack').checked;
  const accent = $('#accent').value;
  const weak = tinyMix(accent, '#ffffff', .86);
  const css = `
<style>
#${id}{--accent:${accent};--accent-weak:${weak};width:100%;border-collapse:separate;border-spacing:0;min-width:640px}
#${id} caption{caption-side:top;text-align:left;font-weight:800;margin:0 0 .6rem}
#${id} th,#${id} td{padding:.85rem .9rem;border:1px solid #e5e7eb;background:#fff;text-align:left}
#${id} thead th{background:#f8fafc;font-weight:800}
#${id} .popular{position:relative}
#${id} .popular .badge{position:absolute;left:12px;top:-12px;font-size:.7rem;font-weight:800;background:var(--accent);color:#fff;padding:.25rem .45rem;border-radius:999px}
#${id} .price{font-size:1.35rem;font-weight:800}
#${id} .period{font-size:.85rem;color:#64748b}
#${id} .cta a{display:inline-block;padding:.55rem .8rem;border-radius:10px;background:var(--accent);color:#fff;text-decoration:none;font-weight:700}
#${id} .headcell{background:var(--accent-weak);font-weight:700}
@media(max-width:740px){
  ${stack ? `
  #${id}{min-width:0;border-spacing:0}
  #${id} thead{display:none}
  #${id} tr{display:block;margin-bottom:.75rem;border:1px solid #e5e7eb;border-radius:14px;overflow:hidden}
  #${id} td,#${id} th{display:grid;grid-template-columns:12ch auto;border:none;border-bottom:1px solid #f1f5f9}
  #${id} td:last-child,#${id} th:last-child{border-bottom:0}
  #${id} .headcell{grid-template-columns:auto;border-bottom:1px solid #e5e7eb;background:#f8fafc}
  ` : ''}
}
</style>`.trim();

  const cur = $('#currency').value, per = $('#period').value.trim(), caption = $('#caption').value.trim();
  // Build HTML
  let html = `<div class="rpt-wrap"><table id="${id}" class="rpt${stack?' stack':''}">`;
  if(caption) html += `\n  <caption>${esc(caption)}</caption>`;
  // thead
  html += `\n  <thead>\n    <tr>\n      <th class="headcell">Details</th>`;
  for(let p=1;p<=P;p++){
    html += `\n      <th${(p-1===popularIndex)?' class="popular"':''}>${esc(table[0][p])}${(p-1===popularIndex)?'<span class="badge">POPULAR</span>':''}</th>`;
  }
  html += `\n    </tr>\n  </thead>`;
  // tbody
  html += `\n  <tbody>`;
  // price row
  html += `\n    <tr>\n      <th class="headcell">Price</th>`;
  for(let p=1;p<=P;p++){
    const price = esc(table[1][p]||'0');
    html += `\n      <td><span class="price">${esc(cur)}${price}</span> <span class="period">${esc(per)}</span></td>`;
  }
  html += `\n    </tr>`;
  // features
  for(let r=2;r<F;r++){
    html += `\n    <tr>\n      <th class="headcell">${esc(table[r][0])}</th>`;
    for(let p=1;p<=P;p++){
      html += `\n      <td>${esc(table[r][p])}</td>`;
    }
    html += `\n    </tr>`;
  }
  // buttons
  if($('#ctaRow').checked){
    html += `\n    <tr>\n      <th class="headcell"></th>`;
    for(let p=1;p<=P;p++){
      const {text,url}=btnData[p-1]||{text:'Choose Plan',url:'#'};
      html += `\n      <td class="cta"><a href="${esc(url)}" rel="nofollow">${esc(text)}</a></td>`;
    }
    html += `\n    </tr>`;
  }
  html += `\n  </tbody>\n</table></div>`;

  $('#output').value = css + '\n' + html;
  $('#copy').disabled = false;
}

/* ======= button config UI ======= */
function renderBtnConfig(){
  const row = $('#btnConfig'); row.innerHTML = '';
  for(let p=0;p<P;p++){
    const w = document.createElement('div'); w.className='col-6';
    w.innerHTML = `
      <div class="card">
        <div style="display:flex;gap:.5rem;align-items:center;justify-content:space-between">
          <strong>Plan ${p+1} Button</strong>
          <label class="hint" style="display:flex;gap:.4rem;align-items:center">
            <input type="radio" name="popular" ${p===popularIndex?'checked':''} data-pop="${p}"> Popular
          </label>
        </div>
        <label class="hint" style="display:block;margin-top:.5rem">Text</label>
        <input type="text" data-btntext="${p}" value="${btnData[p]?.text||'Choose Plan'}">
        <label class="hint" style="display:block;margin-top:.4rem">URL</label>
        <input type="text" data-btnurl="${p}" value="${btnData[p]?.url||'#'}">
      </div>`;
    row.appendChild(w);
  }
  // listeners
  row.querySelectorAll('input[data-btntext]').forEach(inp=>{
    inp.oninput = e => { const i=+inp.dataset.btntext; btnData[i].text = inp.value; renderPreview(); };
  });
  row.querySelectorAll('input[data-btnurl]').forEach(inp=>{
    inp.oninput = e => { const i=+inp.dataset.btnurl; btnData[i].url = inp.value; };
  });
  row.querySelectorAll('input[data-pop]').forEach(r=>{
    r.onchange = ()=>{ popularIndex = +r.dataset.pop; renderPreview(); };
  });
}

/* ======= events ======= */
$('#plans').onchange = e=>{
  P = Math.max(2, +e.target.value||2);
  // expand/shrink matrix
  table = table.map(row=>{
    if(row.length < P+1) return row.concat(Array.from({length:(P+1-row.length)},()=>'')); // add cols
    return row.slice(0,P+1);
  });
  btnData.length = P; btnData = btnData.map((v,i)=>v||{text:'Choose Plan',url:'#'});
  renderBuilder(); renderPreview();
};
$('#features').onchange = e=>{
  F = Math.max(2, +e.target.value||2);
  if(table.length < F){
    for(let r=table.length; r<F; r++){
      table.push(Array.from({length:P+1},(_,c)=> c===0 ? `Feature ${r-1}` : ''));
    }
  } else {
    table.length = F;
  }
  renderBuilder(); renderPreview();
};
$('#addPlan').onclick = ()=>{ $('#plans').value = ++P; $('#plans').dispatchEvent(new Event('change')); };
$('#delPlan').onclick = ()=>{ if(P>2){ $('#plans').value = --P; $('#plans').dispatchEvent(new Event('change')); } };
$('#addFeature').onclick = ()=>{ $('#features').value = ++F; $('#features').dispatchEvent(new Event('change')); };
$('#delFeature').onclick = ()=>{ if(F>2){ $('#features').value = --F; $('#features').dispatchEvent(new Event('change')); } };
$('#clear').onclick = ()=>{
  for(let r=0;r<F;r++) for(let c=0;c<P+1;c++){
    if(r===0 && c>0) continue; // keep plan names
    table[r][c] = '';
  }
  renderBuilder(); renderPreview();
};
['caption','currency','period','stack','ctaRow'].forEach(id => $('#'+id).addEventListener('input', renderPreview));
$('#accent').addEventListener('input', ()=>{ renderPreview(); });
$('#generate').onclick = generateHTML;
$('#copy').onclick = async ()=>{
  try{ await navigator.clipboard.writeText($('#output').value); $('#copied').textContent='Copied ✔'; setTimeout(()=>$('#copied').textContent='',1400); }
  catch{ $('#copied').textContent='Press Ctrl/Cmd + C'; }
};

/* ======= tiny color mix (accent-weak) ======= */
function tinyMix(hex1, hex2, w){
  const a=h=>[1,3,5].map(i=>parseInt(h.slice(i,i+2),16));
  const m=(x,y)=>Math.round(x+(y-x)*w);
  const [r1,g1,b1]=a(hex1), [r2,g2,b2]=a(hex2);
  return '#'+[m(r1,r2),m(g1,g2),m(b1,b2)].map(v=>v.toString(16).padStart(2,'0')).join('');
}

/* ======= init ======= */
initMatrix();
renderBuilder();
renderPreview();

/* edit events update data */
function syncEditable(e){
  const el = e.target;
  const r = +el.dataset.r, c = +el.dataset.c;
  if(Number.isFinite(r) && Number.isFinite(c)){
    table[r][c] = el.textContent;
  }
}
function attachDelegation(){
  $('#builderHolder').addEventListener('input', syncEditable);
}
attachDelegation();
</script>
</body>
</html>
